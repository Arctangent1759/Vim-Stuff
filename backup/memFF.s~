# _start is the entry point into any program.
.global _start
.ent    _start 
_start:


j main


.end _start

printHeap:
  ori $v0,$0,63
  syscall
  jr $ra

ffmalloc:
  ori $v0,$0,60
  syscall
  jr $ra

free:
  ori $v0,$0,62
  syscall
  jr $ra


main:

  jal printHeap

  ori $a0,$0,1024
  jal ffmalloc
  jal printHeap

  ori $a0,$0,1024
  jal ffmalloc
  jal printHeap
  
  ori $a0,$0,17408
  jal free
  jal printHeap
  
  ori $a0,$0,1024
  jal ffmalloc
  jal printHeap
  
  ori $a0,$0,16384
  jal free
  jal printHeap
  
  ori $a0,$0,17408
  jal free
  jal printHeap

  ori $a0,$0,1024
  jal ffmalloc
  jal printHeap

  ori $a0,$0,1024
  jal ffmalloc
  jal printHeap

  ori $a0,$0,1024
  jal ffmalloc
  jal printHeap

  ori $a0,$0,1024
  jal ffmalloc
  jal printHeap

  ori $a0,$0,1024
  jal ffmalloc
  jal printHeap

  ori $a0,$0,17408
  jal free
  jal printHeap

  ori $a0,$0,19456
  jal free
  jal printHeap

  ori $a0,$0,18432
  jal free
  jal printHeap


  ori $a0,$0,20480
  jal free
  jal printHeap


  ori $a0,$0,1024
  jal ffmalloc
  jal printHeap

  ori $a0,$0,16384
  jal free
  jal printHeap

  ori $a0,$0,17408
  jal free
  jal printHeap

  ori $a0,$0,16384
  jal ffmalloc
  jal printHeap
  ori $v0,$0,10
  syscall
