j start

octal:
  #Init all registers, but preserve $r3
  sw $r3 3($r0)
  setreg 0
  lw $r3 3($r0)

  #Init memory location for result
  sw $r2 1($r0)

  lw $r1 0($r0)
  andi $r1 $r1 0x7
  lw $r2 1($r0)
  ori $r2 $r2 $r1
  sw $r2 1($r0)

  lw $r1 0($r0)
  addi $r2 $r0 3
  srlv $r1 $r1 $r2
  andi $r1 $r1 0x7
  addi $r2 $r0 4
  sllv $r1 $r1 $r2
  lw $r2 1($r0)
  ori $r2 $r2 $r1
  sw $r2 1($r0)

  lw $r1 0($r0)
  addi $r2 $r0 6
  srlv $r1 $r1 $r2
  andi $r1 $r1 0x7
  addi $r2 $r0 8
  sllv $r1 $r1 $r2
  lw $r2 1($r0)
  ori $r2 $r2 $r1

  disp $r2 0

  return:
	jr $ra

start:
  addi $r1 $r0 0x829f
  sw $r1 0($r0)
  jal octal
